<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>Test</title>
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="bower_components/app-layout/app-drawer-layout/app-drawer-layout.html">
    <link rel="import" href="bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="bower_components/app-layout/app-drawer/app-drawer.html">
    <link rel="import" href="bower_components/paper-item/paper-item.html">
    <link rel="import" href="bower_components/paper-menu/paper-menu.html">
    <link rel="import" href="bower_components/paper-card/paper-card.html">
    <link rel="import" href="bower_components/iron-collapse/iron-collapse.html">
    <link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
    <link rel="import" href="bower_components/paper-button/paper-button.html">
    <link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="bower_components/iron-pages/iron-pages.html">
    <link rel="import" href="bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="bower_components/iron-icons/hardware-icons.html">
    <link rel="import" href="bower_components/app-layout/app-toolbar/app-toolbar.html">
    <link rel="import" href="bower_components/app-layout/demo/sample-content.html">

    <link rel="import" href="bower_components/app-layout/app-scrollpos-control/app-scrollpos-control.html">

    <style is="custom-style">
      body {
        margin: 0;
        font-family: 'Roboto', 'Noto', sans-serif;
        background-color: #eee;
      }
      app-toolbar {
        background-color: #4285f4;
        color: #fff;
      }

      .card {
        width: 500px;
      }
      .card .card-content {
        background-color: gray;
        color: #fff;
      }
    </style>


  </head>
  <body>

  <template is="dom-bind">

    <app-drawer-layout>

      <app-drawer>
        <paper-menu selected="{{page}}" id="sidenav">
          <paper-item >Home</paper-item>
          <paper-item>About</paper-item>
          <paper-item>Schedule</paper-item>
          <paper-item>Account</paper-item>
        </paper-menu>
      </app-drawer>

      <div>
        <app-toolbar>
          <paper-icon-button icon="menu" drawer-toggle></paper-icon-button>
        </app-toolbar>

        <iron-pages selected="{{page}}">
          <div class="home">


            <paper-button raised onclick="test.open()">dialog with nested dialog</paper-button>


            <paper-dialog id="test" with-backdrop>

              <paper-card class="card">
                <div class="card-content">1,000 miles of wonder</div>

                <div class="card-actions">
                  Answer <paper-icon-button icon="icons:question-answer" title="more info" onclick="toggle(this)">
                  </paper-icon-button>

                  <iron-collapse class="answer">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi.
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi.
                  </iron-collapse>

                  <script>
                    function _toggle() {
                      var moreInfo = document.getElementById('more-info');
                      var iconButton = Polymer.dom(event).localTarget;
                      // iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                        // : 'hardware:keyboard-arrow-down';
                      moreInfo.toggle();
                    }
                  </script>
                </div>

              </paper-card>
            </paper-dialog>

          </div>
          <div class="schedule">schedule</div>
          <div class="about">about</div>

          </div>
        </iron-pages>
      </div>

    </app-drawer-layout>

    <app-scrollpos-control selected="{{page}}"></app-scrollpos-control>

  </template>

<script type="text/javascript">

window.addEventListener('WebComponentsReady', function(e) {
  Polymer.dom(this.root).querySelector('#sidenav').select(0);

  window.toggle = function(elem) {
    console.log(elem);
    var answer = Polymer.dom(elem).parentNode.querySelector('.answer');
    console.log(answer);
    answer.toggle();
  }

});


</script>


  </body>
</html>
